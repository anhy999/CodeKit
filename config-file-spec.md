# Table of Contents

   1. [Introduction](#introduction)
   2. [Top-Level Properties](#top-level-properties)

------------------------



# Introduction

A CodeKit 3 configuration file stores information about a CodeKit Project, its settings, and all the files it contains. 

### Name & Location:
   1. The file must named `config.codekit3` or `.config.codekit3`.
   2. The file must be located in the root Project folder. (The folder added to CodeKit as a Project.)
   
   
### Format:
The config file is JSON.


### Optionality:
There are only two required fields: `settingsFileVersion` and `creatorBuild`. Otherwise, all fields in the Config File are optional.


### Case Sensitivity:
Keys are **case-sensitive.** Values are not.


### Sorting:
To prevent extraneous diffs during Git commits, CodeKit alphabetically sorts all keys in the Config File. While this is not a requirement, it is handy for users.

    
### 64-Bit Integers:
**Certain numbers in the Config File MUST be parsed as 64-bit integers.** 

This is because several numbers are actually bitmask values. The specific numerical values that MUST be treated as 64-bit integers are called out in this documentation.

As of 2019, JavaScript cannot represent 64-bit integers natively. The `Number` type stops at 53-bits of precision because JavaScript is a god-awful language. Fortunately, JavaScript is introducing the `BigInt` type to solve this problem. It is not officially part of the spec right now.

See https://golb.hplar.ch/2019/01/js-bigint-json.html for a workaround.

If you are **writing** a Config File from scratch and the values you intend to store for the properites that MUST be 64-bit integers do not exceed 53 bits of precision, you can safely write the value as a standard `Number`. For example, `fileType` can be set to `2 (2^1)` to represent a `Sass` file or `4096 (2^12)` to represent a `Markdown` file. 

If you are **reading** a Config File, you must treat numbers as 64-bit integers because you do not control whether or not they have bits beyond (2^53) "enabled". It is NOT safe to use `Number` to represent numberical values in this case.

-----------------------------


# Top Level Properties

The top level of the Config File is an object of type `{"key": value}`. It looks like this:

```
{
    "AAInfo": "A string generated by CodeKit explaining the purpose of this file to the user",
    
    "buildSteps": [],
    
    "creatorBuild": "31491",
    
    "files": {},
    
    "hooks": [],
    
    "manualImportLinks": {},
    
    "projectAttributes": {},
    
    "projectSettings": {},
    
    "settingsFileVersion": "3"
}
```

### "AAInfo" — `String`
Anything you provide will be overwritten by CodeKit, but you may want to explain that this is a CodeKit configuration file and the app can be downloaded at https://codekitapp.com/

### "buildSteps" - `[{"key": value, ...}, ...]`
This stores information about each Build Step that a user has defined. It is an `Array` of `Objects` of type `{"key" : value}`. [See Details](#build-steps)

### "creatorBuild" - `String` (REQUIRED)
This is the build number for the version of CodeKit that created this file. The number is visible in CodeKit's About window. You MUST supply a **string** that contains a number equal to the version of CodeKit you're targeting. CodeKit will ignore any Config File that is missing this value.

As of August 2019, use `"31491"`, which is CodeKit 3.9.2. This documentation was written against that CodeKit version.

Whatever build number you enter here is the minimum version of CodeKit that your users should have. If your users have an older version of CodeKit, the Config File will still be read and any values that apply in the older version of the app will be used. However, any values that don't apply to the older version of CodeKit (for a feature that does not exist in the older version) will be discarded permanently.

You are guaranteed forward-compatibility. Your Config File will work in any future release of CodeKit and will be automatically migrated to future formats, if needed.

### "files" - `{"key": {"key": value, ...}, ...}`

This is an `Object` that stores settings for each individual file in the Project. [See Details](#files).

### "hooks" - `[{"key": value, ...}, ...]`

This is an `Array` of `Objects` of type `{"key": value}` that store information about each [Hook](https:/codekitapp.com/help/hooks/) that is defined for this Project. [See Details](#hooks).

### "manualImportLinks"

This stores information about import links between files that the user has created via drag-and-drop in CodeKit's UI. When parsing a Config File, you should treat this value as opaque and write it, unmodified, to your output. When creating a Config File from scratch, you should omit this property.

### "projectAttributes" — `{"key": value, ... }`

This is an `Object` that stores basic biographical information about a Project. [See Details](#project-attributes)

#### "projectSettings" - `{"key": value, ... }`

This is an `Object` that stores the Project Settings for this Project. [See Details](#project-settings)

#### "settingsFileVersion" — `String` (REQUIRED)

Pass the `String` `"3"` for this value. CodeKit will ignore any Config File that is missing this value.




----------------------------


# Build Steps
This is the top-level property named `buildSteps`, which is an `Array` of `{"string": value}`. There are currently two kinds of Build Steps: "run a script", "process certain files", and "process remaining files". The `buildSteps` Array may contain any number of the first two types and **exactly one** of the third type. The order matters; it is the order in which the user expects the steps to execute. Each type of Build Step has a slightly different structure:

### Process Certain Files








    
    
    

